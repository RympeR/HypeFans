{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\develop\\\\pypr\\\\HypeFans\\\\mobile_version\\\\screens\\\\main\\\\chat\\\\ChatGroup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nimport s from \"../../../styles/style\";\nimport text from \"../../../assets/text/text\";\nimport TopGradient from \"../../../components/TopGradient\";\nimport MessagePrice from \"./MessagePrice\";\nvar platform = Platform.OS === 'ios' ? true : false;\nimport { Video, Audio } from 'expo-av';\nimport RnModal from 'react-native-modal';\nimport SvgUri from \"expo-svg-uri\";\nimport { GiftedChat, Bubble, InputToolbar, Avatar, Message, MessageImage, LeftAction, ChatInput, Send, Composer, Actions, Day } from 'react-native-gifted-chat';\nimport * as DocumentPicker from 'expo-document-picker';\n\nvar Chat = function (_React$Component) {\n  _inherits(Chat, _React$Component);\n\n  var _super = _createSuper(Chat);\n\n  function Chat(_props) {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _super.call(this, _props);\n\n    _this.pickDocument = function _callee() {\n      var result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(DocumentPicker.getDocumentAsync({}));\n\n            case 2:\n              result = _context.sent;\n              console.log(result);\n\n              if (!result.cancelled) {\n                _this.setState({\n                  document: result.uri\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderMessageVideo = function (props) {\n      var currentMessage = props.currentMessage;\n      return React.createElement(View, {\n        style: {\n          padding: 20\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, React.createElement(Video, {\n        resizeMode: \"contain\",\n        useNativeControls: true,\n        shouldPlay: false,\n        source: {\n          uri: currentMessage.video\n        },\n        style: s.video,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this.renderMessageImage = function (props) {\n      return React.createElement(MessageImage, _extends({}, props, {\n        containerStyle: {},\n        imageStyle: {},\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.renderAvatar = function (props) {\n      return React.createElement(Avatar, _extends({}, props, {\n        imageStyle: {\n          left: {}\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.renderBubble = function (props) {\n      return React.createElement(Bubble, _extends({}, props, {\n        renderUsernameOnMessage: true,\n        wrapperStyle: {\n          right: {\n            backgroundColor: '#e7cecb',\n            borderRadius: 5\n          },\n          left: {\n            backgroundColor: '#F8F1F0',\n            borderRadius: 5\n          }\n        },\n        textStyle: {\n          right: {\n            fontFamily: 'factor_a',\n            color: '#000'\n          },\n          left: {\n            fontFamily: 'factor_a',\n            color: '#000'\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.renderInputToolbar = function (props) {\n      return React.createElement(View, {\n        style: [{\n          backgroundColor: '#F8F1F0',\n          bottom: 2\n        }],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [s.inputContainer, s.flexRow, s.alignCenter, s.mb20],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [s.btn50, s.center, {\n          bottom: 2\n        }],\n        onPress: function onPress() {\n          _this.pickDocument();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }, React.createElement(SvgUri, {\n        width: \"25\",\n        height: \"25\",\n        source: require(\"../../../assets/images/orangeScrep.svg\"),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }\n      })), React.createElement(Composer, _extends({}, props, {\n        multiline: false,\n        textInputStyle: [{\n          color: '#000',\n          backgroundColor: '#F8F1F0',\n          paddingHorizontal: 10\n        }],\n        textInputProps: _objectSpread(_objectSpread({}, props.textInputProps), {}, {\n          onSubmitEditing: function onSubmitEditing() {\n            if (props.text && props.onSend) {\n              props.onSend({\n                text: props.text.trim()\n              }, true);\n            }\n          }\n        }),\n        placeholderTextColor: '#969896',\n        placeholder: text[_this.state.lang].urMess,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      })), React.createElement(Send, _extends({}, props, {\n        textStyle: {\n          color: '#fff'\n        },\n        containerStyle: [s.center],\n        label: '',\n        children: React.createElement(TouchableOpacity, {\n          style: [s.btn50, s.center],\n          onPress: function onPress() {\n            if (props.text && props.onSend) {\n              props.onSend({\n                text: props.text.trim()\n              }, true);\n            }\n          },\n          onLongPress: function onLongPress() {\n            _this.setState({\n              priceModal: true\n            });\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }\n        }, React.createElement(SvgUri, {\n          width: \"25\",\n          height: \"25\",\n          source: require(\"../../../assets/images/send2.svg\"),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }\n        })),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }\n      }))));\n    };\n\n    _this.renderDay = function (props) {\n      return React.createElement(Day, _extends({}, props, {\n        wrapperStyle: [{}],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.state = {\n      lang: _props.lang,\n      priceModal: false,\n      navigation: _props.navigation,\n      messages: [],\n      group: _props.route.params.group,\n      name: _props.route.params.name,\n      image: _props.route.params.image,\n      document: null\n    };\n    _this.onSend = _this.onSend.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.props.setTab(false);\n              this.setState({\n                messages: [{\n                  _id: 3,\n                  text: 'До встречи',\n                  createdAt: new Date(Date.UTC(2021, 7, 30, 17, 20, 0)),\n                  user: {\n                    _id: 2,\n                    name: this.state.group[1] && this.state.group[1].name,\n                    avatar: this.state.group[1] && this.state.group[1].ava\n                  }\n                }, {\n                  _id: 2,\n                  text: 'Окей, до встречи',\n                  createdAt: new Date(Date.UTC(2021, 7, 30, 17, 20, 0)),\n                  user: {\n                    _id: 1,\n                    name: 'React Native'\n                  },\n                  video: 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\n                  sent: true,\n                  received: true\n                }, {\n                  _id: 1,\n                  text: 'Привет, во сколько сегодня?',\n                  createdAt: new Date(Date.UTC(2021, 5, 11, 17, 20, 0)),\n                  user: {\n                    _id: 2,\n                    name: this.state.group[0].name,\n                    avatar: this.state.group[0].ava\n                  },\n                  video: 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4'\n                }]\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.setTab(true);\n    }\n  }, {\n    key: \"onSend\",\n    value: function onSend() {\n      var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.setState(function (previousState) {\n        return {\n          messages: GiftedChat.append(previousState.messages, messages)\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: [s.container, s.backColor],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [s.topBar, s.flexRow, s.spaceBtw, s.aCenter, s.statBarMargin],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: [s.flexRow, s.aCenter],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [s.btn50, s.center],\n        activeOpacity: 0.8,\n        onPress: function onPress() {\n          return _this2.state.navigation.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }\n      }, React.createElement(SvgUri, {\n        width: \"20\",\n        height: \"20\",\n        source: require(\"../../../assets/images/back.svg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: [s.image50r, s.center, s.mr10],\n        activeOpacity: 0.8,\n        onPress: function onPress() {\n          return _this2.state.navigation.navigate('UserPage', {\n            user: _this2.state.user\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: [s.image50r],\n        source: this.state.image ? [{\n          uri: this.state.image\n        }] : require(\"../../../assets/images/ava5.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: [s.text18, s.factorBold, s.textBlack],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 15\n        }\n      }, this.state.name), React.createElement(Text, {\n        style: [s.text14, s.factor, s.textGrey],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }\n      }, this.state.group.length + 1 + text[this.state.lang].members))), React.createElement(TouchableOpacity, {\n        style: [s.btn50, s.center],\n        activeOpacity: 0.7,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }\n      })), React.createElement(TopGradient, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 9\n        }\n      }), React.createElement(GiftedChat, {\n        messages: this.state.messages,\n        onSend: function onSend(messages) {\n          return _this2.onSend(messages);\n        },\n        renderAvatar: this.renderAvatar,\n        renderBubble: this.renderBubble,\n        renderInputToolbar: this.renderInputToolbar,\n        renderDay: this.renderDay,\n        renderMessageVideo: this.renderMessageVideo,\n        onLongPress: function onLongPress(data) {\n          return console.log('longpressed buble', data);\n        },\n        user: {\n          _id: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }\n      }), React.createElement(RnModal, {\n        style: {\n          margin: 0\n        },\n        coverScreen: false,\n        isVisible: this.state.priceModal,\n        animationIn: 'fadeIn',\n        animationOut: 'fadeOut',\n        scrollOffset: 100,\n        swipeDirection: 'down',\n        onSwipeComplete: function onSwipeComplete() {\n          return _this2.setState({\n            priceModal: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }\n      }, React.createElement(MessagePrice, {\n        lang: this.state.lang,\n        onBack: function onBack() {\n          return _this2.setState({\n            priceModal: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Chat;\n}(React.Component);\n\nexport { Chat as default };","map":{"version":3,"sources":["D:/develop/pypr/HypeFans/mobile_version/screens/main/chat/ChatGroup.js"],"names":["React","Dimensions","get","width","height","s","text","TopGradient","MessagePrice","platform","Platform","OS","Video","Audio","RnModal","SvgUri","GiftedChat","Bubble","InputToolbar","Avatar","Message","MessageImage","LeftAction","ChatInput","Send","Composer","Actions","Day","DocumentPicker","Chat","props","pickDocument","getDocumentAsync","result","console","log","cancelled","setState","document","uri","renderMessageVideo","currentMessage","padding","video","renderMessageImage","renderAvatar","left","renderBubble","right","backgroundColor","borderRadius","fontFamily","color","renderInputToolbar","bottom","inputContainer","flexRow","alignCenter","mb20","btn50","center","require","paddingHorizontal","textInputProps","onSubmitEditing","onSend","trim","state","lang","urMess","priceModal","renderDay","navigation","messages","group","route","params","name","image","bind","setTab","_id","createdAt","Date","UTC","user","avatar","ava","sent","received","previousState","append","container","backColor","topBar","spaceBtw","aCenter","statBarMargin","goBack","image50r","mr10","navigate","text18","factorBold","textBlack","text14","factor","textGrey","length","members","data","margin","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport {\r\n  Image,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  TouchableWithoutFeedback,\r\n  KeyboardAvoidingView,\r\n  Keyboard,\r\n  View,\r\n  Dimensions,\r\n} from 'react-native';\r\n\r\nconst { width, height } = Dimensions.get(\"screen\")\r\n\r\nimport s from '../../../styles/style'\r\nimport text from '../../../assets/text/text'\r\n\r\nimport TopGradient from '../../../components/TopGradient'\r\nimport MessagePrice from './MessagePrice'\r\n\r\nlet platform = Platform.OS === 'ios' ? true : false\r\n\r\nimport { Video, Audio } from 'expo-av';\r\nimport RnModal from 'react-native-modal';\r\nimport SvgUri from \"expo-svg-uri\"\r\nimport {\r\n  GiftedChat, Bubble, InputToolbar, Avatar, Message, MessageImage,\r\n  LeftAction, ChatInput, Send, Composer, Actions, Day\r\n} from 'react-native-gifted-chat'\r\nimport * as DocumentPicker from 'expo-document-picker'\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lang: props.lang,\r\n      priceModal: false,\r\n      navigation: props.navigation,\r\n      messages: [],\r\n      //user: props.route.params.user,\r\n      //user: props.route.params.group[0],\r\n      group: props.route.params.group,\r\n      name: props.route.params.name,\r\n      image: props.route.params.image,\r\n      document: null,\r\n    };\r\n    this.onSend = this.onSend.bind(this);\r\n  }\r\n\r\n  pickDocument = async () => {\r\n    let result = await DocumentPicker.getDocumentAsync({\r\n    });\r\n\r\n    console.log(result);\r\n\r\n    if (!result.cancelled) {\r\n      this.setState({ document: result.uri });\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.props.setTab(false)\r\n    this.setState({\r\n      messages: [\r\n        {\r\n          _id: 3,\r\n          text: 'До встречи',\r\n          createdAt: new Date(Date.UTC(2021, 7, 30, 17, 20, 0)),\r\n          user: {\r\n            _id: 2,\r\n            name: this.state.group[1] && this.state.group[1].name,\r\n            avatar: this.state.group[1] && this.state.group[1].ava,\r\n          },\r\n        },\r\n        {\r\n          _id: 2,\r\n          text: 'Окей, до встречи',\r\n          createdAt: new Date(Date.UTC(2021, 7, 30, 17, 20, 0)),\r\n          user: {\r\n            _id: 1,\r\n            name: 'React Native',\r\n            //avatar: contact.avatar,\r\n          },\r\n          //image: 'https://blog.rcdetails.info/wp-content/uploads/2019/09/Runcam-Hybrid-4K-HD-FPV-compare-full-micro-cameras-size-1024x683.jpg',\r\n          // You can also add a video prop:\r\n          video: 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\r\n          // Mark the message as sent, using one tick\r\n          sent: true,\r\n          // Mark the message as received, using two tick\r\n          received: true,\r\n          // Mark the message as pending with a clock loader\r\n          // pending: true,\r\n          // Any additional custom parameters are passed through\r\n        },\r\n        {\r\n          _id: 1,\r\n          text: 'Привет, во сколько сегодня?',\r\n          createdAt: new Date(Date.UTC(2021, 5, 11, 17, 20, 0)),\r\n          user: {\r\n            _id: 2,\r\n            name: this.state.group[0].name,\r\n            avatar: this.state.group[0].ava,\r\n          },\r\n          video: 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\r\n          //image: 'https://blog.rcdetails.info/wp-content/uploads/2019/09/Runcam-Hybrid-4K-HD-FPV-compare-full-micro-cameras-size-1024x683.jpg',\r\n        },\r\n\r\n      ],\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setTab(true)\r\n  }\r\n\r\n  renderMessageVideo = (props: any) => {\r\n    const { currentMessage } = props;\r\n    return (\r\n      <View style={{ padding: 20 }}>\r\n        <Video\r\n          resizeMode=\"contain\"\r\n          useNativeControls\r\n          shouldPlay={false}\r\n          source={{ uri: currentMessage.video }}\r\n          style={s.video}\r\n        />\r\n      </View>\r\n    );\r\n  };\r\n\r\n  onSend(messages = []) {\r\n    this.setState((previousState) => {\r\n      return {\r\n        messages: GiftedChat.append(previousState.messages, messages),\r\n      };\r\n    });\r\n  }\r\n\r\n  // --- Customizations ------------------------------\r\n\r\n  renderMessageImage = (props) => {\r\n    return (\r\n      <MessageImage\r\n        {...props}\r\n        containerStyle={{\r\n        }}\r\n        imageStyle={{\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n\r\n  renderAvatar = (props) => {\r\n    return (\r\n      <Avatar\r\n        {...props}\r\n        imageStyle={{\r\n          left: {\r\n            //bottom: 10,\r\n          },\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderBubble = (props) => {\r\n    return (\r\n      <Bubble\r\n        {...props}\r\n        renderUsernameOnMessage={true}\r\n        wrapperStyle={{\r\n          right: {\r\n            backgroundColor: '#e7cecb',\r\n            borderRadius: 5,\r\n            //bottom: 20\r\n          },\r\n          left: {\r\n            backgroundColor: '#F8F1F0',\r\n            borderRadius: 5,\r\n            //bottom: 20\r\n          }\r\n        }}\r\n        textStyle={{\r\n          right: {\r\n            fontFamily: 'factor_a',\r\n            color: '#000',\r\n          },\r\n          left: {\r\n            fontFamily: 'factor_a',\r\n            color: '#000',\r\n          },\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderInputToolbar = (props) => {\r\n    return (\r\n      <View style={[{ backgroundColor: '#F8F1F0', bottom: 2 }]}>\r\n        <View style={[s.inputContainer, s.flexRow, s.alignCenter, s.mb20]}>\r\n          <TouchableOpacity style={[s.btn50, s.center, { bottom: 2 }]}\r\n            onPress={() => { this.pickDocument() }}\r\n          >\r\n            <SvgUri width=\"25\" height=\"25\"\r\n              source={require('../../../assets/images/orangeScrep.svg')} />\r\n          </TouchableOpacity>\r\n          {/* <Actions {...props}/> */}\r\n          <Composer {...props}\r\n            multiline={false}\r\n            textInputStyle={[{\r\n              color: '#000',\r\n              backgroundColor: '#F8F1F0',\r\n              // borderRadius: 10,\r\n              paddingHorizontal: 10,\r\n              // composerHeight: 40,\r\n            }]}\r\n            textInputProps={{\r\n              ...props.textInputProps,\r\n              onSubmitEditing: () => {\r\n                if (props.text && props.onSend) {\r\n                  props.onSend({ text: props.text.trim() }, true);\r\n                }\r\n              }\r\n            }}\r\n            placeholderTextColor={'#969896'}\r\n            placeholder={text[this.state.lang].urMess}\r\n          />\r\n\r\n          <Send {...props}\r\n            textStyle={{\r\n              color: '#fff'\r\n            }}\r\n            containerStyle={[s.center]}\r\n            label={''}\r\n            children={\r\n              <TouchableOpacity style={[s.btn50, s.center]}\r\n                onPress={() => {\r\n                  if (props.text && props.onSend) {\r\n                    props.onSend({ text: props.text.trim() }, true);\r\n                  }\r\n                }}\r\n                onLongPress={() => {\r\n                  this.setState({ priceModal: true })\r\n                }}\r\n              >\r\n                <SvgUri width=\"25\" height=\"25\"\r\n                  source={require('../../../assets/images/send2.svg')} />\r\n              </TouchableOpacity>\r\n            }\r\n          />\r\n        </View>\r\n\r\n\r\n      </View>\r\n\r\n    )\r\n  }\r\n\r\n  renderDay = (props) => {\r\n    return (\r\n      // <View {...props}></View>\r\n      <Day\r\n        {...props}\r\n        wrapperStyle={[{\r\n          //bottom: 20,\r\n        }]}\r\n      // dateFormat={''}\r\n      />\r\n    )\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <View style={[s.container, s.backColor]} >\r\n\r\n        <View style={[s.topBar, s.flexRow, s.spaceBtw, s.aCenter, s.statBarMargin]}>\r\n\r\n\r\n          <View style={[s.flexRow, s.aCenter]}>\r\n            <TouchableOpacity style={[s.btn50, s.center]}\r\n              activeOpacity={0.8}\r\n              onPress={() => this.state.navigation.goBack()}\r\n            >\r\n              <SvgUri width=\"20\" height=\"20\"\r\n                source={require('../../../assets/images/back.svg')} />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[s.image50r, s.center, s.mr10]}\r\n              activeOpacity={0.8}\r\n              onPress={() => this.state.navigation.navigate('UserPage', { user: this.state.user })}\r\n            >\r\n              <Image style={[s.image50r]} source={\r\n                this.state.image\r\n                  ? [{ uri: this.state.image }]\r\n                  : require('../../../assets/images/ava5.png')\r\n              } />\r\n            </TouchableOpacity>\r\n            <View style={[]}>\r\n              <Text style={[s.text18, s.factorBold, s.textBlack]}>{this.state.name}</Text>\r\n              <Text style={[s.text14, s.factor, s.textGrey]}>{(this.state.group.length + 1) + text[this.state.lang].members}</Text>\r\n            </View>\r\n            {/* <View style={[s.flex1]}/> */}\r\n          </View>\r\n\r\n\r\n\r\n          <TouchableOpacity style={[s.btn50, s.center]}\r\n            activeOpacity={0.7}\r\n          //onPress={() => props.onSkip()}\r\n          >\r\n            {/* <SvgUri width=\"20\" height=\"20\"\r\n              source={require('../../../assets/images/3dots.svg')} /> */}\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <TopGradient />\r\n\r\n        <GiftedChat\r\n          messages={this.state.messages}\r\n          onSend={messages => this.onSend(messages)}\r\n          renderAvatar={this.renderAvatar}\r\n          //renderMessage={this.renderMessage}\r\n          renderBubble={this.renderBubble}\r\n          renderInputToolbar={this.renderInputToolbar}\r\n          renderDay={this.renderDay}\r\n          renderMessageVideo={this.renderMessageVideo}\r\n          onLongPress={(data) => console.log('longpressed buble', data)}\r\n          user={{\r\n            _id: 1,\r\n          }}\r\n        />\r\n\r\n        <RnModal\r\n          style={{ margin: 0 }}\r\n          coverScreen={false}\r\n          isVisible={this.state.priceModal}\r\n          animationIn={'fadeIn'}\r\n          animationOut={'fadeOut'}\r\n          scrollOffset={100}\r\n          swipeDirection={'down'}\r\n          onSwipeComplete={() => this.setState({ priceModal: false })}\r\n        >\r\n          <MessagePrice\r\n            lang={this.state.lang}\r\n            onBack={() => this.setState({ priceModal: false })}\r\n          />\r\n        </RnModal>\r\n\r\n\r\n      </View >\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}